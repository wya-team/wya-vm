(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"./src/pages/containers/home/modules/home-async-sortable.vue":function(t,e,n){"use strict";n.r(e);var o=n("./node_modules/@wya/vc/lib/message/index.js"),r=n.n(o),s=n("./node_modules/@wya/vc/lib/button/index.js"),i=n.n(s),c=n("./node_modules/@wya/vc/lib/customer/index.js"),a=n.n(c),l=n("./src/libs/vm.min.js"),u=n("./node_modules/@wya/vc/lib/utils/resize.js"),d=n("./src/pages/components/home/sortable/modules/root.js");function h(t,e,n,o,r,s,i){try{var c=t[s](i),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(o,r)}var m={components:{"vc-button":i.a,"vc-customer":a.a},name:"tpl-links",data:function(){return{list:[{id:Math.random(),module:"page"}],style:{width:window.innerWidth-40,height:window.innerHeight-60},theme:"dark",showSlots:!1,Combo:null,Preview:null}},mounted:function(){var t,e=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.Resize.on(document.body,e.handleResize),r.a.loading("模块异步加载中...."),t.next=4,e.$request({localData:{status:1},delay:3});case 4:r.a.destroy(),e.Combo=Object(l.createVMDrags)(d.a,{mode:"sortable"}).Combo;case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var s=t.apply(e,n);function i(t){h(s,o,r,i,c,"next",t)}function c(t){h(s,o,r,i,c,"throw",t)}i(void 0)}))})()},destroyed:function(){u.Resize.off(document.body,this.handleResize)},methods:{handleResize:function(){this.style={width:window.innerWidth-40,height:window.innerHeight-60}},handleSave:function(t){console.log(t,this.list)},handleError:function(t){t.type;var e=t.msg;r.a.error(e)},renderAsync:function(t,e,n){var o=this,r=this.Combo;this.Preview;return r?t(r,{ref:"combo",attrs:{dataSource:this.list,frameW:375,frameH:606,width:this.style.width,height:this.style.height},on:{save:this.handleSave,error:this.handleError,change:function(t){return o.list=t}},scopedSlots:n.scopedSlots}):null}}},v=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),f={name:"vm-home-async-sortable",components:{"vm-content":Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-top":"20px"}},[n("div",{staticStyle:{position:"absolute",top:"5px"}},[n("vc-button",{on:{click:function(e){t.theme="dark"===t.theme?"light":"dark"}}},[t._v("\n\t\t\t主题: "+t._s(t.theme)+"\n\t\t")]),t._v(" "),n("vc-button",{on:{click:function(e){t.showSlots=!t.showSlots}}},[t._v("\n\t\t\t头部/尾部: "+t._s(t.showSlots?"展示":"隐藏")+"\n\t\t")]),t._v(" "),n("vc-button",{on:{click:function(e){return t.$refs.combo.preview()}}},[t._v("\n\t\t\t预览\n\t\t")]),t._v(" "),n("vc-button",{on:{click:function(e){return t.$refs.combo.undo()}}},[t._v("\n\t\t\t撤回\n\t\t")]),t._v(" "),n("vc-button",{on:{click:function(e){return t.$refs.combo.redo()}}},[t._v("\n\t\t\t取消撤回\n\t\t")])],1),t._v(" "),n("vc-customer",{attrs:{render:t.renderAsync},scopedSlots:t._u([t.showSlots?{key:"frame-header",fn:function(){return[n("div",[t._v("header")])]},proxy:!0}:null,t.showSlots?{key:"frame-footer",fn:function(){return[n("div",[t._v("footer")])]},proxy:!0}:null],null,!0)})],1)}),[],!1,null,null,null).exports},data:function(){return{}},created:function(){},methods:{}},p=Object(v.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("set-title",{staticStyle:{padding:"20px"},attrs:{title:"home-async-sortable"}},[e("vm-content")],1)}),[],!1,null,"df7cc5fa",null);e.default=p.exports}}]);